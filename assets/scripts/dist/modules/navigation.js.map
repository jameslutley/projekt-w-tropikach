{"version":3,"sources":["../../src/modules/navigation.js"],"names":["navigation","toggleOverlay","overlay","classList","contains","remove","add","onEndTransitionFn","ev","support","transitions","propertyName","removeEventListener","transEndEventName","addEventListener","triggerBttn","document","getElementById","querySelector","closeBttn","WebkitTransition","MozTransition","OTransition","msTransition","transition","Modernizr","prefixed","csstransitions"],"mappings":"AAAA,uBAEA,cAAe,SAASA,WAAT,EAAsB,CAgBnC,QAASC,EAAT,EAAyB,CACvB,GAAIC,EAAQC,SAAR,CAAkBC,QAAlB,CAA2B,MAA3B,CAAJ,CAAwC,CACtCF,EAAQC,SAAR,CAAkBE,MAAlB,CAAyB,MAAzB,CADsC,CAEtCH,EAAQC,SAAR,CAAkBG,GAAlB,CAAsB,OAAtB,CAFsC,CAGtC,KAAMC,GAAqBC,CAAD,EAAQ,CAChC,GAAIC,EAAQC,WAAZ,CAAyB,CACvB,GAAwB,YAApB,KAAGC,YAAP,CAAsC,OACtC,KAAKC,mBAAL,CAAyBC,CAAzB,CAA4CN,CAA5C,CACD,CACDL,EAAQC,SAAR,CAAkBE,MAAlB,CAAyB,OAAzB,CACD,CAND,CAOII,EAAQC,WAV0B,CAWpCR,EAAQY,gBAAR,CAAyBD,CAAzB,CAA4CN,CAA5C,CAXoC,CAapCA,GAEH,CAfD,IAeYL,GAAQC,SAAR,CAAkBC,QAAlB,CAA2B,OAA3B,CAfZ,EAgBEF,EAAQC,SAAR,CAAkBG,GAAlB,CAAsB,MAAtB,CAEH,CAlCD,KAAMS,GAAcC,SAASC,cAAT,CAAwB,iBAAxB,CAApB,CACMf,EAAUc,SAASE,aAAT,CAAuB,aAAvB,CADhB,CAEMC,EAAYjB,EAAQgB,aAAR,CAAsB,sBAAtB,CAFlB,CAUML,EAPqB,CACzBO,iBAAkB,qBADO,CAEzBC,cAAe,eAFU,CAGzBC,YAAa,gBAHY,CAIzBC,aAAc,iBAJW,CAKzBC,WAAY,eALa,CAOD,CAAmBC,UAAUC,QAAV,CAAmB,YAAnB,CAAnB,CAV1B,CAWMjB,EAAU,CACdC,YAAae,UAAUE,cADT,CAXhB,CAoCAZ,EAAYD,gBAAZ,CAA6B,OAA7B,CAAsCb,CAAtC,CArCmC,CAsCnCkB,EAAUL,gBAAV,CAA2B,OAA3B,CAAoCb,CAApC,CACD","file":"navigation.js","sourcesContent":["/* globals Modernizr */\n\nexport default function navigation() {\n  const triggerBttn = document.getElementById('trigger-overlay');\n  const overlay = document.querySelector('div.overlay');\n  const closeBttn = overlay.querySelector('button.overlay-close');\n  const transEndEventNames = {\n    WebkitTransition: 'webkitTransitionEnd',\n    MozTransition: 'transitionend',\n    OTransition: 'oTransitionEnd',\n    msTransition: 'MSTransitionEnd',\n    transition: 'transitionend',\n  };\n  const transEndEventName = transEndEventNames[Modernizr.prefixed('transition')];\n  const support = {\n    transitions: Modernizr.csstransitions,\n  };\n\n  function toggleOverlay() {\n    if (overlay.classList.contains('open')) {\n      overlay.classList.remove('open');\n      overlay.classList.add('close');\n      const onEndTransitionFn = (ev) => {\n        if (support.transitions) {\n          if (ev.propertyName !== 'visibility') return;\n          this.removeEventListener(transEndEventName, onEndTransitionFn);\n        }\n        overlay.classList.remove('close');\n      };\n      if (support.transitions) {\n        overlay.addEventListener(transEndEventName, onEndTransitionFn);\n      } else {\n        onEndTransitionFn();\n      }\n    } else if (!overlay.classList.contains('close')) {\n      overlay.classList.add('open');\n    }\n  }\n\n  triggerBttn.addEventListener('click', toggleOverlay);\n  closeBttn.addEventListener('click', toggleOverlay);\n}\n"]}